simulavoto  | === SimulaVoto - Sistema Eleitoral Brasileiro ===
simulavoto  | Environment: production
simulavoto  | Port: 5000
simulavoto  | NODE_OPTIONS: --dns-result-order=ipv4first
simulavoto  | Database migrations should be run manually via init-db.sql
simulavoto  | See DEPLOY.md for instructions
simulavoto  | Starting application...
simulavoto  |
simulavoto  | > rest-express@1.0.0 start
simulavoto  | > NODE_ENV=production node dist/index.cjs
simulavoto  |
simulavoto  | Starting database initialization...
simulavoto  | NODE_ENV: production
simulavoto  | DATABASE_URL exists: true
simulavoto  | DATABASE_URL host: supabase-db
simulavoto  | DATABASE_URL port: 5432
simulavoto  | DATABASE_URL protocol: postgresql:
simulavoto  | Resolving database hostname to IPv4...
simulavoto  | System DNS resolved supabase-db to: 172.18.0.14
simulavoto  | Resolved host: 172.18.0.14
simulavoto  | Creating database pool...
simulavoto  | SSL disabled for local/internal database
simulavoto  | Pool config SSL: disabled
simulavoto  | Database pool initialized successfully
simulavoto  | Testing database connection...
simulavoto  | Database connection test successful!
simulavoto  | Registering routes...
simulavoto  | Routes registered successfully!
simulavoto  | WebSocket server initialized on /ws/imports
simulavoto  | WebSocket server initialized
simulavoto  | 7:12:07 PM [express] serving on port 5000
simulavoto  | Report scheduler started (checking every 5 minutes)
simulavoto  | 7:12:51 PM [express] GET /api/auth/me 401 in 4ms :: {"error":"Unauthorized"}
simulavoto  | 7:12:52 PM [express] POST /api/auth/login 200 in 77ms :: {"id":"7ea108a0-4f20-4599-a083-8b2532963d15","username":"admin","name":"Administrador","email":"admin@simulavoto.gov.br","role":"admin","active":true,"createdAt":"2026-01-21T19:08:08.714Z"}
simulavoto  | 7:12:53 PM [express] GET /api/imports/tse 304 in 5ms :: []
simulavoto  | 7:12:53 PM [express] GET /api/notifications 304 in 12ms :: {"notifications":[],"unreadCount":0}
simulavoto  | 7:12:53 PM [express] GET /api/stats 304 in 10ms :: {"parties":0,"candidates":0,"scenarios":0,"simulations":0}
simulavoto  | 7:12:53 PM [express] GET /api/simulations/recent 304 in 9ms :: []
simulavoto  | 7:12:53 PM [express] GET /api/parties 500 in 11ms :: {"error":"Failed to fetch parties"}
simulavoto  | 7:12:53 PM [express] GET /api/scenarios 500 in 34ms :: {"error":"Failed to fetch scenarios"}
simulavoto  | 7:12:53 PM [express] GET /api/sentiment/summary 304 in 29ms :: {"entities":[]}
simulavoto  | 7:12:53 PM [express] GET /api/sentiment/alerts/count 304 in 26ms :: {"unacknowledged":0}
simulavoto  | WebSocket client connected (user: 7ea108a0-4f20-4599-a083-8b2532963d15). Total clients: 1